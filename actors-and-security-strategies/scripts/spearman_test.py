import scipy.stats as stats
import matplotlib.pyplot as plt

domain_average_price = [723.0171428571429, 109.9, 197.2875, 17.54684210526316, 738.8925, 17.470526315789478, 31.758421052631583, 855.6061538461539, 23.57541666666667, 21.938837209302324, 98.78294117647059, 34.191818181818185, 23.117608695652176, 71.18354838709678, 46.084736842105265, 20.863111111111113]
domain_malicious_percentage = [0.676, 0.191, 0.120, 0.097, 0.067, 0.059, 0.039, 0.029, 0.026, 0.023, 0.021, 0.019, 0.018, 0.017, 0.017, 0.016]

rho, pval = stats.spearmanr(domain_malicious_percentage, domain_average_price)
print("Rho = " + str(rho))
print("pval = " + str(pval))

plt.scatter(domain_average_price, domain_malicious_percentage)
plt.xlabel("average price of TLD")
plt.ylabel("Percentage of malicious domains")
plt.title("Spearman correlation = {0:.2f}".format(rho))
plt.show()